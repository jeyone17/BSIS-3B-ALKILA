<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In</title>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.4.slim.min.js"></script>

  <script type="module">
        const firebaseConfig =
        {apiKey: "AIzaSyBpKOrw5OYM0O1BuNeYW11kqxsRhq4GZKs",                 authDomain: "alkila-ad25f.firebaseapp.com",
            projectId: "alkila-ad25f",
            storageBucket: "alkila-ad25f.appspot.com",
            messagingSenderId: "1081232925786",
            appId: "1:1081232925786:web:c1474bb4d62e3248d0e463"
        };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const clientRef = db.ref("account");

        $("#login").click(function ()
        {
            var username = $("#loginUsername").val();
            var password = $("#loginPassword").val();

            const clientRef = db.ref("account/client/" + username);

            clientRef.once("value")
                .then((snapshot) =>
                {
                    const userData = snapshot.val();
                    if (userData && userData.Password === password)
                    {
                        alert("Login Successfully");
                    } else
                    {
                        alert("Login Failed. Details do not match");
                    }
                })
                .catch((error) =>
                {
                    console.error("Error reading data: " + error);
                });
        });
    
    var loginButton = document.getElementById('loginbtn');
    loginButton.addEventListener('click', function() 
    {
      window.location.href = 'homepage.html';
    });

    </script>
  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="style1.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="logo-and-name">
            <div class="logo-con">
                <img src="Images/weblogo.png" alt="Logo" class="logo">
                <h1 class="app-name">ALK</h1>
                <h1 class="app-name2">ILA</h1>
            </div>
        </div>
        
    </header>
    <div id="login">
        <div class="login-title">
            Log in
        </div>
        <div class="login-container">
            <div class="welcome">
                Welcome to ALKILA
            </div>
            <form action="javascript:void(0)" id="login-form">
                <div class="login-input">
                    <div class="input-con username">
                        <label for="username">Username</label>
                        <input type="text" name="username" id="loginUsername">
                    </div>
                    <div class="divider"></div>
                    <div class="input-con password">
                        <label for="password">Password</label>
                        <input type="password" name="password" id="loginPassword">
                    </div>
                </div>
                <button id="loginbtn" type="submit">Login</button>
                <div class="signup">
                    Need an account? <a class="signup" href="signup.html">Sign up</a>
                </div>
            </form>
        </div>
    </div>
    <footer>
        <div class="footer-p">
            <p>&copy; 2023 Alkila</p>
        </div>
    
        <div class="footer-about">
        <nav>
            <ul>
                <a href="#">Terms and Policies</a>
                <a href="#">Contact Us</a>
                <a href="#">About</a>
                <a href="#">Help</a>
            </ul>
        </nav>
        </div>
        
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="script.js"></script>
    
</body>
</html>
